<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SchoolAppMobile.Views.NotificationsPage"
             Title="Notifications">

    <StackLayout Padding="20">

        <Label Text="Notifications"
               FontAttributes="Bold"
               FontSize="24"
               HorizontalOptions="Center" />

        <!-- Banner para exclusão -->
        <Frame x:Name="ExclusionBanner"
               BackgroundColor="Tomato"
               Padding="10"
               CornerRadius="8"
               IsVisible="False"
               Margin="0,10,0,10">
            <Label Text="⚠️ You have been excluded from one or more subjects due to absences."
                   TextColor="White"
                   FontAttributes="Bold"
                   HorizontalOptions="Center" />
        </Frame>

        <!-- RefreshView envolve a CollectionView -->
        <RefreshView x:Name="NotificationsRefreshView"
                     Command="{Binding RefreshCommand}"
                     IsRefreshing="{Binding IsRefreshing}">
            <CollectionView x:Name="NotificationsListView">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BorderColor="DarkGray"
                               Padding="10"
                               Margin="5">
                            <StackLayout>
                                <Label Text="{Binding Type}" FontAttributes="Bold" />
                                <Label Text="{Binding Message}" />
                            </StackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </RefreshView>

        <Button Text="Back to Home"
                Clicked="OnBackToHomeClicked"
                BackgroundColor="DarkSlateBlue"
                TextColor="White"
                Margin="0,20,0,0" />

    </StackLayout>
</ContentPage>
